import{j as e}from"./chunk-BAZEzdRI.js";import{r as a,u as t,a as s,R as r}from"./chunk-N8EMqdL-.js";import{Q as l,$ as n,i as d,a0 as i,U as o,Z as c,Y as m}from"../assets/index-Duv1jWix.js";import{y as x}from"./chunk-CQIvISRI.js";import"./chunk-MJHYApCa.js";import"./chunk-Cef-BAxw.js";const u=({items:a=[]})=>e.jsxs("nav",{className:"flex items-center text-sm text-gray-500 mb-4 mt-2",children:[e.jsx("a",{href:"/dashboard",className:"flex items-center hover:text-[#4F46E5]",children:e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),a.map(((a,t)=>e.jsxs(r.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mx-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),a.path?e.jsx("a",{href:a.path,className:"hover:text-[#4F46E5]",children:a.label}):e.jsx("span",{className:"text-[#4F46E5] font-medium",children:a.label})]},t)))]}),p=({text:a})=>{if(!a)return null;const t=a.split(/(\\$\{[^}]+\})/g);return e.jsx("span",{children:t.map(((a,t)=>a.match(/^\$\{[^}]+\}$/)?e.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 rounded",children:a},t):e.jsx("span",{children:a},t)))})},h=e=>{if(!e)return[];const a=/\$\{([^}]+)\}/g,t=[];let s;for(;null!==(s=a.exec(e));)t.push(s[1]);return[...new Set(t)]},y=()=>{const r=a.useRef(null),y=t(),b=s(),g=b.state?.apiId,[j,v]=a.useState(!!g),[f,N]=a.useState(!1),[w,k]=a.useState([]),[C,T]=a.useState({id:null,requestId:null,method:"GET",url:"",name:"",environment:"",description:"",headers:[{key:"",value:"",enabled:!0}],auth:{type:"No Auth",bearerToken:"",username:"",password:"",apiKeyName:"",apiKeyValue:"",apiKeyAddTo:"Header"},body:{type:"none",contentType:"application/json",raw:"",formData:[{key:"",value:"",type:"text",enabled:!0}],urlEncoded:[{key:"",value:"",enabled:!0}]},params:[{key:"",value:"",enabled:!0}]}),[A,I]=a.useState({isLoading:!1,status:null,statusText:"",time:null,size:null,contentType:"",data:null,headers:{},error:null}),[E,L]=a.useState("Params"),[B,K]=a.useState(null),[z,P]=a.useState([]),[S,q]=a.useState(!0),[R,D]=a.useState(!1),[$,M]=a.useState(null),O=["Accept","Accept-Encoding","Accept-Language","Authorization","Cache-Control","Content-Type","Content-Length","User-Agent","X-Requested-With","X-API-Key","X-Auth-Token","X-Client-Version","X-Forwarded-For"],V=e=>{const a=h(e.url),t=e.headers.filter((e=>e.key||e.value)).flatMap((e=>[...h(e.key),...h(e.value)])),s=e.params.filter((e=>e.key||e.value)).flatMap((e=>[...h(e.key),...h(e.value)])),r=h(e.body.raw),l=[...new Set([...a,...t,...s,...r])];k(l)};a.useEffect((()=>{if((async()=>{try{q(!0);const e=await c.getAll();if(!(e&&e.result&&e.result.data))throw new Error("Invalid environments response format");{const a=e.result.data.content.map((e=>({id:e.environmentId,name:e.environmentName})));P(a)}}catch(e){x.error("Failed to load environments: "+(e.message||"Unknown error")),P([])}finally{q(!1)}})(),g&&!f){(async()=>{try{v(!0);const e=await m.getById(g);if(!(e&&e.result&&e.result.data))throw new Error("Invalid API response format");{const a=e.result.data,t=Object.entries(a.request.headers||{}).map((([e,a])=>({key:e,value:a,enabled:!0})));0===t.length&&t.push({key:"",value:"",enabled:!0});const s=Object.entries(a.request.queryParams||{}).map((([e,a])=>({key:e,value:a,enabled:!0})));0===s.length&&s.push({key:"",value:"",enabled:!0});let r={type:"No Auth",bearerToken:"",username:"",password:"",apiKeyName:"",apiKeyValue:"",apiKeyAddTo:"Header"};a.request.auth&&("BEARER"===a.request.auth.type?r={type:"Bearer Token",bearerToken:a.request.auth.token||"",username:"",password:"",apiKeyName:"",apiKeyValue:"",apiKeyAddTo:"Header"}:"BASIC"===a.request.auth.type?r={type:"Basic Auth",bearerToken:"",username:a.request.auth.username||"",password:a.request.auth.password||"",apiKeyName:"",apiKeyValue:"",apiKeyAddTo:"Header"}:"API_KEY"===a.request.auth.type&&(r={type:"API Key",bearerToken:"",username:"",password:"",apiKeyName:a.request.auth.keyName||"",apiKeyValue:a.request.auth.keyValue||"",apiKeyAddTo:a.request.auth.addTo||"Header"}));let l={type:"none",contentType:"application/json",raw:"",formData:[{key:"",value:"",type:"text",enabled:!0}],urlEncoded:[{key:"",value:"",enabled:!0}]};if(a.request.body)if(l.type=a.request.body.type||"none",l.contentType=a.request.body.contentType||"application/json","raw"===a.request.body.type)l.raw=a.request.body.raw||"";else if("form-data"===a.request.body.type&&a.request.body.formData){const e=Object.entries(a.request.body.formData).map((([e,a])=>({key:e,value:a.value||a,type:a.type||"text",enabled:!0})));e.length>0?l.formData=e:l.formData=[{key:"",value:"",type:"text",enabled:!0}]}else if("x-www-form-urlencoded"===a.request.body.type&&a.request.body.urlEncoded){const e=Object.entries(a.request.body.urlEncoded).map((([e,a])=>({key:e,value:a,enabled:!0})));e.length>0?l.urlEncoded=e:l.urlEncoded=[{key:"",value:"",enabled:!0}]}const n={id:a.apiId,requestId:a.request.requestId,method:a.method,url:a.url,name:a.apiRepoName,environment:a.envId,description:a.description||"",headers:t,params:s,auth:r,body:l};T(n),V(n),N(!0),x.success("API details loaded")}}catch(e){x.error("Failed to load API details: "+(e.message||"Unknown error")),y("/test-design/api-repository")}finally{v(!1)}})()}}),[g,y,f]);const F=e=>{const{name:a,value:t}=e.target,s={...C,[a]:t};T(s),"url"===a&&V(s)},J=e=>{"headers"===e?T((e=>({...e,headers:[...e.headers,{key:"",value:"",enabled:!0}]}))):"params"===e?T((e=>({...e,params:[...e.params,{key:"",value:"",enabled:!0}]}))):"formData"===e?T((e=>({...e,body:{...e.body,formData:[...e.body.formData,{key:"",value:"",type:"text",enabled:!0}]}}))):"urlEncoded"===e&&T((e=>({...e,body:{...e.body,urlEncoded:[...e.body.urlEncoded,{key:"",value:"",enabled:!0}]}})))},H=(e,a)=>{"headers"===e?T((e=>({...e,headers:e.headers.filter(((e,t)=>t!==a))}))):"params"===e?T((e=>({...e,params:e.params.filter(((e,t)=>t!==a))}))):"formData"===e?T((e=>({...e,body:{...e.body,formData:e.body.formData.filter(((e,t)=>t!==a))}}))):"urlEncoded"===e&&T((e=>({...e,body:{...e.body,urlEncoded:e.body.urlEncoded.filter(((e,t)=>t!==a))}})))},U=(e,a,t,s)=>{let r,l;"headers"===e?(r=[...C.headers],r[a]={...r[a],[t]:s}):"params"===e?(r=[...C.params],r[a]={...r[a],[t]:s}):"formData"===e?(r=[...C.body.formData],r[a]={...r[a],[t]:s}):"urlEncoded"===e&&(r=[...C.body.urlEncoded],r[a]={...r[a],[t]:s}),l="headers"===e||"params"===e?{...C,[e]:r}:{...C,body:{...C.body,[e]:r}},T(l),V(l)},W=(e,a)=>{"headers"===e?T((e=>{const t=[...e.headers];return t[a]={...t[a],enabled:!t[a].enabled},{...e,headers:t}})):"params"===e?T((e=>{const t=[...e.params];return t[a]={...t[a],enabled:!t[a].enabled},{...e,params:t}})):"formData"===e?T((e=>{const t=[...e.body.formData];return t[a]={...t[a],enabled:!t[a].enabled},{...e,body:{...e.body,formData:t}}})):"urlEncoded"===e&&T((e=>{const t=[...e.body.urlEncoded];return t[a]={...t[a],enabled:!t[a].enabled},{...e,body:{...e.body,urlEncoded:t}}}))},X=(e,a)=>{T((t=>({...t,auth:{...t.auth,[e]:a}})))},Q=e=>{try{"application/json"===C.body.contentType&&(JSON.parse(e),K(null))}catch(t){K(t.message)}const a={...C,body:{...C.body,raw:e}};T(a),V(a)},Y=e=>{if(!e)return"0 B";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["B","KB","MB","GB"][a]},G=e=>e?e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`:"0 ms",_=(e,a)=>{let t="";switch(e){case"status":t=`${A.status} ${A.statusText}`;break;case"headers":t=Object.entries(A.headers||{}).map((([e,a])=>`${e}: ${a}`)).join("\n");break;case"body":t="object"==typeof A.data?JSON.stringify(A.data,null,2):String(A.data);break;case"url":t=C.url;break;default:t=String(a)}navigator.clipboard.writeText(t),x.success(`${e.charAt(0).toUpperCase()+e.slice(1)} copied to clipboard`)},Z=e=>{if(!e)return null;if(e.includes(".")){return 3===e.split(".").length?"valid":"invalid"}return e.length>10?"valid":"warning"},ee=()=>0===w.length?e.jsxs("div",{className:"text-sm text-gray-500 italic p-3 border-t",children:["No parameters detected. Use ","$","{paramName}"," syntax in URL, headers, params or body to create parameters."]}):e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2 px-3",children:"Detected Parameters"}),e.jsx("div",{className:"px-3 pb-3 flex flex-wrap gap-2",children:w.map((a=>e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:["$","{"+a+"}"]},a)))})]});return e.jsxs("div",{className:"p-6 space-y-6 bg-white min-h-screen",children:[e.jsx(u,{items:[{label:"Test Design"},{label:"API Repository",path:"/test-design/api-repository"},{label:C.id?"Edit":"Create"}]}),j?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading API details..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white border rounded-md shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:C.id?"Edit API Request":"New API Request"}),e.jsx("button",{onClick:async()=>{if(C.name&&C.url)if(C.environment)if("Bearer Token"!==C.auth.type||C.auth.bearerToken.trim())if("Basic Auth"!==C.auth.type||C.auth.username.trim()&&C.auth.password.trim())if("API Key"!==C.auth.type||C.auth.apiKeyName.trim()&&C.auth.apiKeyValue.trim())try{v(!0);const e={};C.headers.filter((e=>e.enabled&&e.key)).forEach((a=>{e[a.key]=a.value}));const a={};let t,s;C.params.filter((e=>e.enabled&&e.key)).forEach((e=>{a[e.key]=e.value})),"No Auth"!==C.auth.type&&(t={type:"Bearer Token"===C.auth.type?"BEARER":"Basic Auth"===C.auth.type?"BASIC":"API Key"===C.auth.type?"API_KEY":"NONE"},"Bearer Token"===C.auth.type?t.token=C.auth.bearerToken||"":"Basic Auth"===C.auth.type?(t.username=C.auth.username||"",t.password=C.auth.password||""):"API Key"===C.auth.type&&(t.keyName=C.auth.apiKeyName||"",t.keyValue=C.auth.apiKeyValue||"",t.addTo=C.auth.apiKeyAddTo||"Header")),"none"!==C.body.type&&(s={type:C.body.type,contentType:C.body.contentType},"raw"===C.body.type?s.raw=C.body.raw:"form-data"===C.body.type?(s.formData={},C.body.formData.filter((e=>e.enabled&&e.key)).forEach((e=>{s.formData[e.key]={value:e.value,type:e.type}}))):"x-www-form-urlencoded"===C.body.type&&(s.urlEncoded={},C.body.urlEncoded.filter((e=>e.enabled&&e.key)).forEach((e=>{s.urlEncoded[e.key]=e.value}))));const r={requestMetaData:{userId:"3",transactionId:`tx-${Date.now()}`,timestamp:(new Date).toISOString()},data:{apiRepoName:C.name,envId:parseInt(C.environment),method:C.method,url:C.url,description:C.description,request:{headers:e,queryParams:a,pathParams:{},auth:t,body:s}}};let l;C.id&&(r.data.apiId=C.id,C.requestId&&(r.data.request.requestId=C.requestId)),C.id?(l=await m.update(r),x.success("API updated successfully")):(l=await m.update(r),x.success("API created successfully")),l&&l.result&&l.result.data&&y("/test-design/api-repository")}catch(e){x.error("Failed to save API: "+(e.message||"Unknown error"))}finally{v(!1)}else x.warning("API Key name and value are required when using API Key authentication");else x.warning("Username and password are required when using Basic Auth");else x.warning("Bearer token is required when using Bearer Token authentication");else x.warning("Please select an environment");else x.warning("API name and URL are required")},disabled:j,className:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-md flex items-center gap-1 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsx("span",{children:"Save"})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Name"}),e.jsx("input",{type:"text",name:"name",value:C.name,onChange:F,placeholder:"Enter API name",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Environment"}),e.jsxs("select",{name:"environment",value:C.environment,onChange:F,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",disabled:S,children:[e.jsx("option",{value:"",children:S?"Loading environments...":"Select Environment"}),z.map((a=>e.jsx("option",{value:a.id,children:a.name},a.id)))]}),S&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500 flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-indigo-600 mr-1"}),"Loading environments..."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",name:"description",value:C.description,onChange:F,placeholder:"API description (optional)",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 mb-4 items-start",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Method"}),e.jsxs("select",{value:C.method,onChange:e=>T((a=>({...a,method:e.target.value}))),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-sm font-medium",children:[e.jsx("option",{children:"GET"}),e.jsx("option",{children:"POST"}),e.jsx("option",{children:"PUT"}),e.jsx("option",{children:"PATCH"}),e.jsx("option",{children:"DELETE"}),e.jsx("option",{children:"OPTIONS"}),e.jsx("option",{children:"HEAD"})]})]}),e.jsx("div",{className:"col-span-8",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),e.jsx("div",{className:"flex items-center border border-gray-300 rounded overflow-hidden",children:e.jsx("input",{type:"text",name:"url",className:"flex-1 p-2 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:C.url,onChange:F,placeholder:"https://api.example.com/v1/resource/$\\{resourceId\\}"})}),C.url&&C.url.includes("${")&&e.jsxs("div",{className:"mt-1 text-xs",children:[e.jsx("span",{className:"font-medium",children:"With parameters: "}),e.jsx(p,{text:C.url})]})]})}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-end",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 invisible",children:"Send"}),e.jsx("button",{onClick:async()=>{I((e=>({...e,isLoading:!0,error:null})));try{const e={id:C.id,name:C.name,environment:C.environment,method:C.method,url:C.url,headers:C.headers,params:C.params,auth:C.auth,body:C.body},a=Date.now(),t=await m.execute(e),s=Date.now()-a,r=("string"==typeof t?t:JSON.stringify(t)).length;I({isLoading:!1,status:200,statusText:"OK",time:s,size:r,contentType:"application/json",data:t,headers:{},error:null})}catch(e){I({isLoading:!1,status:e.status||500,statusText:e.statusText||"Error",time:null,size:null,contentType:"",data:null,headers:{},error:e.message||"Failed to send request"})}},disabled:A.isLoading||!C.url,className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center justify-center gap-2 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all disabled:opacity-50 w-full",children:A.isLoading?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{}),e.jsx("span",{children:"Send"})]})})]})]})]})]}),e.jsxs("div",{className:"bg-white border rounded-md shadow-sm overflow-hidden",children:[e.jsx("div",{className:"flex border-b",children:[{name:"Params",hasData:C.params.some((e=>e.enabled&&e.key.trim()))},{name:"Headers",hasData:C.headers.some((e=>e.enabled&&e.key.trim()))},{name:"Authorization",hasData:"No Auth"!==C.auth.type},{name:"Body",hasData:"none"!==C.body.type}].map((a=>e.jsxs("button",{onClick:()=>L(a.name),className:"px-4 py-3 text-sm font-medium border-b-2 hover:-translate-y-0.5 transition-all focus:outline-none relative "+(E===a.name?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300"),children:[a.name,a.hasData&&e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-blue-500 rounded-full"})]},a.name)))}),e.jsxs("div",{className:"p-4",children:["Params"===E&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Query Parameters"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",C.params.filter((e=>e.enabled&&e.key.trim())).length," active)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{const e=prompt('Paste parameters (one per line, format: "key=value"):');if(e)try{const a=e.trim().split("\n").map((e=>{const[a,...t]=e.split("=");return{key:a?.trim()||"",value:t.join("=").trim()||"",enabled:!0}})).filter((e=>e.key));a.length>0&&(T((e=>({...e,params:[...e.params,...a]}))),x.success(`Imported ${a.length} parameters`))}catch(a){x.error("Invalid parameter format")}},className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors flex items-center gap-1",title:"Import parameters from clipboard",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import"]}),e.jsxs("button",{onClick:()=>{const e=C.params.filter((e=>e.enabled&&e.key.trim())),a=e.map((e=>`${e.key}=${e.value}`)).join("\n");navigator.clipboard.writeText(a),x.success(`Exported ${e.length} parameters to clipboard`)},className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",title:"Export parameters to clipboard",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Export"]}),e.jsxs("button",{onClick:()=>J("params"),className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors flex items-center gap-1",children:[e.jsx(d,{size:10}),"Add"]})]})]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-3 py-2"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Key"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Value"}),e.jsx("th",{className:"w-20 px-3 py-2"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.params.map(((a,t)=>e.jsxs("tr",{className:a.enabled?"":"bg-gray-50 text-gray-400",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:()=>W("params",t),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.key,onChange:e=>U("params",t,"key",e.target.value),placeholder:"Parameter name",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.value,onChange:e=>U("params",t,"value",e.target.value),placeholder:"Parameter value or ${paramName}",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{onClick:()=>H("params",t),className:"text-gray-400 hover:text-red-500",title:"Remove parameter",children:e.jsx(i,{size:10})})})]},t)))})]})}),C.url&&C.params.some((e=>e.enabled&&e.key.trim()))&&e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("div",{className:"text-xs text-blue-700 font-medium mb-1",children:"URL Preview:"}),e.jsxs("div",{className:"text-xs text-blue-600 font-mono break-all",children:[C.url,C.url.includes("?")?"&":"?",C.params.filter((e=>e.enabled&&e.key.trim())).map((e=>`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`)).join("&")]})]})]}),"Headers"===E&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Headers"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",C.headers.filter((e=>e.enabled&&e.key.trim())).length," active)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{const e=prompt('Paste headers (one per line, format: "Key: Value"):');if(e)try{const a=e.trim().split("\n").map((e=>{const[a,...t]=e.split(":");return{key:a?.trim()||"",value:t.join(":").trim()||"",enabled:!0}})).filter((e=>e.key));a.length>0&&(T((e=>({...e,headers:[...e.headers,...a]}))),x.success(`Imported ${a.length} headers`))}catch(a){x.error("Invalid header format")}},className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors flex items-center gap-1",title:"Import headers from clipboard",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import"]}),e.jsxs("button",{onClick:()=>{const e=C.headers.filter((e=>e.enabled&&e.key.trim())),a=e.map((e=>`${e.key}: ${e.value}`)).join("\n");navigator.clipboard.writeText(a),x.success(`Exported ${e.length} headers to clipboard`)},className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors flex items-center gap-1",title:"Export headers to clipboard",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Export"]}),e.jsxs("button",{onClick:()=>J("headers"),className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors flex items-center gap-1",children:[e.jsx(d,{size:10}),"Add"]})]})]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-3 py-2"}),e.jsxs("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:["Key",e.jsx("span",{className:"ml-1 text-gray-400",title:"Common headers will show suggestions",children:"ⓘ"})]}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Value"}),e.jsx("th",{className:"w-20 px-3 py-2"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.headers.map(((a,t)=>e.jsxs("tr",{className:a.enabled?"":"bg-gray-50 text-gray-400",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:()=>W("headers",t),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsxs("td",{className:"px-3 py-2 relative",children:[e.jsx("input",{type:"text",value:a.key,onChange:e=>U("headers",t,"key",e.target.value),placeholder:"Header name",list:`header-suggestions-${t}`,className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled}),e.jsx("datalist",{id:`header-suggestions-${t}`,children:O.map((a=>e.jsx("option",{value:a},a)))})]}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.value,onChange:e=>U("headers",t,"value",e.target.value),placeholder:"Header value or ${paramName}",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{onClick:()=>H("headers",t),className:"text-gray-400 hover:text-red-500",title:"Remove header",children:e.jsx(i,{size:10})})})]},t)))})]})}),e.jsx("div",{className:"mt-3",children:e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center gap-2 text-xs text-gray-600 cursor-pointer hover:text-gray-800",children:[e.jsx("svg",{className:"w-4 h-4 transition-transform group-open:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Quick add common headers"]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:O.slice(0,8).map((a=>e.jsx("button",{onClick:()=>{C.headers.some((e=>e.key.toLowerCase()===a.toLowerCase()))?x.info(`${a} header already exists`):(T((e=>({...e,headers:[...e.headers,{key:a,value:"",enabled:!0}]}))),x.success(`Added ${a} header`))},className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",title:`Add ${a} header`,children:a},a)))})]})})]}),"Authorization"===E&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsxs("select",{value:C.auth.type,onChange:e=>{return a=e.target.value,void T((e=>({...e,auth:{...e.auth,type:a}})));var a},className:"w-full sm:w-72 border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{children:"No Auth"}),e.jsx("option",{children:"Bearer Token"}),e.jsx("option",{children:"Basic Auth"}),e.jsx("option",{children:"API Key"})]})]}),"No Auth"!==C.auth.type&&e.jsx("button",{onClick:async()=>{if("No Auth"===C.auth.type)return void x.info("No authentication configured to test");let e=!0,a="";switch(C.auth.type){case"Bearer Token":if(C.auth.bearerToken.trim()){const t=Z(C.auth.bearerToken);"invalid"===t?(e=!1,a="Bearer token format appears invalid (JWT should have 3 parts)"):a="warning"===t?"Bearer token appears short - please verify it's correct":"Bearer token format looks valid"}else e=!1,a="Bearer token is required";break;case"Basic Auth":C.auth.username.trim()&&C.auth.password.trim()?a="Basic auth credentials are configured":(e=!1,a="Both username and password are required for Basic Auth");break;case"API Key":C.auth.apiKeyName.trim()&&C.auth.apiKeyValue.trim()?a=`API key will be added to ${C.auth.apiKeyAddTo.toLowerCase()}`:(e=!1,a="Both API key name and value are required")}e?(x.success(a),M("valid")):(x.warning(a),M("invalid")),setTimeout((()=>M(null)),3e3)},className:"px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 "+("valid"===$?"bg-green-100 text-green-700":"invalid"===$?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:"valid"===$?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Valid"]}):"invalid"===$?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Invalid"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Test Auth"]})})]}),"Bearer Token"===C.auth.type&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Token"}),C.auth.bearerToken&&e.jsx("div",{className:"flex items-center gap-1 text-xs",children:(()=>{const a=Z(C.auth.bearerToken);return"valid"===a?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Valid format"]}):"warning"===a?e.jsxs("span",{className:"text-yellow-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Check format"]}):"invalid"===a?e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Invalid format"]}):null})()})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:C.auth.bearerToken,onChange:e=>X("bearerToken",e.target.value),placeholder:"Your bearer token or ${paramName}",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm font-mono"}),C.auth.bearerToken&&e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(C.auth.bearerToken),x.success("Token copied to clipboard")},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Copy token",children:e.jsx(o,{size:14})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The token will be added as: Authorization: Bearer <token>"})]}),"Basic Auth"===C.auth.type&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:C.auth.username,onChange:e=>X("username",e.target.value),placeholder:"Username or ${paramName}",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("button",{onClick:()=>D(!R),className:"text-xs text-indigo-600 hover:text-indigo-800",children:R?"Hide":"Show"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:R?"text":"password",value:C.auth.password,onChange:e=>X("password",e.target.value),placeholder:"Password or ${paramName}",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm pr-8"}),e.jsx("button",{onClick:()=>D(!R),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:R?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Credentials will be base64 encoded and sent as: Authorization: Basic <encoded>"})})]}),"API Key"===C.auth.type&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Name"}),e.jsx("input",{type:"text",value:C.auth.apiKeyName,onChange:e=>X("apiKeyName",e.target.value),placeholder:"API key name (e.g., X-API-Key)",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Value"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:C.auth.apiKeyValue,onChange:e=>X("apiKeyValue",e.target.value),placeholder:"API key value or ${paramName}",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm font-mono pr-8"}),C.auth.apiKeyValue&&e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(C.auth.apiKeyValue),x.success("API key copied to clipboard")},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Copy API key",children:e.jsx(o,{size:14})})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Add to"}),e.jsxs("select",{value:C.auth.apiKeyAddTo,onChange:e=>X("apiKeyAddTo",e.target.value),className:"w-full sm:w-48 border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{children:"Header"}),e.jsx("option",{children:"Query Params"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["API key will be added to ",C.auth.apiKeyAddTo.toLowerCase()," as: ",C.auth.apiKeyName||"key-name",": ",C.auth.apiKeyValue||"key-value"]})]})]}),"No Auth"===C.auth.type&&e.jsxs("div",{className:"mt-4 text-center py-8",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-3 mx-auto w-fit mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.02.02l.01.01M5 12l2 2L9 12m6.02-6.02l.01.01"})})}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"No Authentication"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No authentication headers will be added to the request"})]})]}),"Body"===E&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Body Type"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["none","raw","form-data","x-www-form-urlencoded"].map((a=>e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"bodyType",value:a,checked:C.body.type===a,onChange:()=>(e=>{T((a=>({...a,body:{...a.body,type:e}})))})(a),className:"h-4 w-4 text-indigo-600 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:"none"===a?"None":"raw"===a?"Raw":"form-data"===a?"Form Data":"URL Encoded"})]},a)))})]}),"raw"===C.body.type&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content Type"}),e.jsxs("select",{value:C.body.contentType,onChange:e=>{return a=e.target.value,void T((e=>({...e,body:{...e.body,contentType:a}})));var a},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[e.jsx("option",{value:"application/json",children:"JSON"}),e.jsx("option",{value:"application/xml",children:"XML"}),e.jsx("option",{value:"text/plain",children:"Text"}),e.jsx("option",{value:"text/html",children:"HTML"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:["application/json"===C.body.contentType&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{if("application/json"===C.body.contentType)try{const e=JSON.parse(C.body.raw),a=JSON.stringify(e,null,2);Q(a),x.success("JSON formatted successfully")}catch(e){x.error("Invalid JSON: "+e.message)}},className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"Format JSON",children:"Format"}),e.jsx("button",{onClick:()=>{if("application/json"===C.body.contentType)try{const e=JSON.parse(C.body.raw),a=JSON.stringify(e);Q(a),x.success("JSON minified successfully")}catch(e){x.error("Invalid JSON: "+e.message)}},className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",title:"Minify JSON",children:"Minify"})]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(C.body.raw),x.success("Body copied to clipboard")},className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Copy body",children:[e.jsx(o,{size:12}),"Copy"]})]})]}),e.jsxs("div",{className:"border rounded-md overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-3 py-2 border-b flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Request Body"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[C.body.raw&&e.jsxs("span",{children:[C.body.raw.length," characters"]}),B&&e.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Invalid JSON"]}),!B&&"application/json"===C.body.contentType&&C.body.raw&&e.jsxs("span",{className:"text-green-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Valid JSON"]})]})]}),e.jsx("textarea",{value:C.body.raw,onChange:e=>Q(e.target.value),rows:12,className:"w-full p-3 font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500 "+(B?"border-red-300 focus:border-red-500 focus:ring-red-500":""),placeholder:"application/json"===C.body.contentType?'{\n  "key": "value",\n  "parameterized": "${paramName}"\n}':"Enter request body",style:{backgroundColor:"application/json"===C.body.contentType?"#f8fafc":"white"}})]}),B&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"JSON Error:"})," ",B]})]})})]}),"form-data"===C.body.type&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Form Data"}),e.jsxs("button",{onClick:()=>J("formData"),className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",children:[e.jsx(d,{className:"mr-1",size:10}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-3 py-2"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Key"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Value"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2 w-24",children:"Type"}),e.jsx("th",{className:"w-20 px-3 py-2"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.body.formData.map(((a,t)=>e.jsxs("tr",{className:a.enabled?"":"bg-gray-50 text-gray-400",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:()=>W("formData",t),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.key,onChange:e=>U("formData",t,"key",e.target.value),placeholder:"Key",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.value,onChange:e=>U("formData",t,"value",e.target.value),placeholder:"Value or ${paramName}",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("select",{value:a.type,onChange:e=>U("formData",t,"type",e.target.value),className:"w-full border-0 p-0 focus:ring-0 text-sm "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled,children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"file",children:"File"})]})}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{onClick:()=>H("formData",t),className:"text-gray-400 hover:text-red-500",children:e.jsx(i,{size:10})})})]},t)))})]})})]}),"x-www-form-urlencoded"===C.body.type&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"URL Encoded Data"}),e.jsxs("button",{onClick:()=>J("urlEncoded"),className:"text-indigo-600 hover:text-indigo-800 hover:-translate-y-0.5 transition-all text-sm flex items-center",children:[e.jsx(d,{className:"mr-1",size:10}),e.jsx("span",{children:"Add"})]})]}),e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-3 py-2"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Key"}),e.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase px-3 py-2",children:"Value"}),e.jsx("th",{className:"w-20 px-3 py-2"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.body.urlEncoded.map(((a,t)=>e.jsxs("tr",{className:a.enabled?"":"bg-gray-50 text-gray-400",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:()=>W("urlEncoded",t),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.key,onChange:e=>U("urlEncoded",t,"key",e.target.value),placeholder:"Key",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:a.value,onChange:e=>U("urlEncoded",t,"value",e.target.value),placeholder:"Value or ${paramName}",className:"w-full border-0 p-0 focus:ring-0 "+(a.enabled?"":"bg-gray-50 text-gray-400"),disabled:!a.enabled})}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{onClick:()=>H("urlEncoded",t),className:"text-gray-400 hover:text-red-500",children:e.jsx(i,{size:10})})})]},t)))})]})})]}),"none"===C.body.type&&e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:"No request body will be sent."})})]})]}),e.jsx(ee,{})]}),e.jsxs("div",{ref:r,className:"bg-white border rounded-md shadow-sm overflow-hidden max-w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Response"}),A.data&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>_("body",A.data),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors flex items-center gap-1",title:"Copy response body",children:[e.jsx(o,{size:12}),"Copy Body"]}),e.jsxs("button",{onClick:()=>{const e="object"==typeof A.data?JSON.stringify(A.data,null,2):String(A.data);navigator.clipboard.writeText(e),x.success("Response copied to clipboard")},className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors flex items-center gap-1",title:"Copy entire response",children:[e.jsx(o,{size:14}),"Copy All"]})]})]}),e.jsx("div",{className:"p-4 max-h-screen overflow-y-auto",children:A.isLoading?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Sending request..."})]}):A.error?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Request Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:A.error})})]}),e.jsx("button",{onClick:()=>_("error",A.error),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"Copy error message",children:e.jsx(o,{size:12})})]})}):A.data?e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(ae=A.status,ae?ae>=200&&ae<300?"bg-green-100 text-green-800":ae>=300&&ae<400?"bg-blue-100 text-blue-800":ae>=400&&ae<500?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"),children:[A.status," ",A.statusText]})}),e.jsx("button",{onClick:()=>_("status"),className:"text-gray-400 hover:text-gray-600",title:"Copy status",children:e.jsx(o,{size:14})})]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Status"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:G(A.time)}),e.jsx("button",{onClick:()=>_("time",G(A.time)),className:"text-gray-400 hover:text-gray-600",title:"Copy response time",children:e.jsx(o,{size:14})})]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Response Time"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Y(A.size)}),e.jsx("button",{onClick:()=>_("size",Y(A.size)),className:"text-gray-400 hover:text-gray-600",title:"Copy response size",children:e.jsx(o,{size:14})})]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Response Size"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:A.contentType||"application/json"}),e.jsx("button",{onClick:()=>_("contentType",A.contentType),className:"text-gray-400 hover:text-gray-600",title:"Copy content type",children:e.jsx(o,{size:14})})]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Content Type"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Response Body"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"object"==typeof A.data?"JSON":"Text"}),e.jsx("button",{onClick:()=>_("body"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"Copy response body",children:"Copy"})]})]}),e.jsxs("div",{className:"border rounded-md bg-gray-50 overflow-hidden max-w-full",children:[e.jsxs("div",{className:"bg-gray-100 px-3 py-2 border-b flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Response Data"}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:A.data&&e.jsx("span",{children:"object"==typeof A.data?`${Object.keys(A.data).length} properties`:`${String(A.data).length} characters`})})]}),e.jsx("pre",{className:"p-4 text-sm font-mono overflow-x-auto overflow-y-auto max-h-96 bg-white whitespace-pre-wrap break-words max-w-full",children:(e=>{try{return JSON.stringify(e,null,2)}catch(a){return String(e)}})(A.data)})]})]}),Object.keys(A.headers).length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Response Headers"}),e.jsx("button",{onClick:()=>_("headers"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"Copy all headers",children:"Copy Headers"})]}),e.jsx("div",{className:"border rounded-md overflow-hidden max-w-full",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Header"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),e.jsx("th",{className:"w-16 px-3 py-2"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(A.headers).map((([a,t])=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 min-w-0",children:a}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600 break-all max-w-xs overflow-hidden",children:t}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{onClick:()=>_("header",`${a}: ${t}`),className:"text-gray-400 hover:text-gray-600",title:"Copy header",children:e.jsx(o,{size:12})})})]},a)))})]})})})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(n,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Ready to send"}),e.jsx("p",{className:"text-sm",children:"Click the Send button to execute the request"})]})})]})]})]});var ae};export{y as default};
