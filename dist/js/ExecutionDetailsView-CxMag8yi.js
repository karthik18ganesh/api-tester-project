import{j as e}from"./chunk-D8bRv3Ag.js";import"./chunk-C74fWxxE.js";import{a8 as s,ah as t,ai as a,$ as i,aj as r,F as d,a1 as l,a2 as n,a6 as c,a7 as x}from"../assets/index-DUtqALCq.js";import"./chunk-SnPUoUoO.js";import"./chunk-4QNEI4IN.js";import"./chunk-Dw5YO7VD.js";const m=({status:s})=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium shadow-sm "+("Passed"===s?"bg-green-500 text-white":"bg-red-500 text-white"),children:["Passed"===s?e.jsx(c,{className:"mr-1"}):e.jsx(x,{className:"mr-1"}),s]}),o=({execution:o,onBack:h,onViewTestCase:g})=>{const j=e=>{g?g(e):(window.history.pushState(null,"",`/test-execution/results/${o.id}/${e}`),window.location.reload())};if(!o)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-gray-500 p-10",children:"Execution details not found"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Go Back"})]});const N=o.results.length,u=o.results.filter((e=>"Passed"===e.status)).length,b=N-u,v=N?Math.round(u/N*100):0;return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"flex items-center mb-6",children:e.jsxs("button",{onClick:h,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[e.jsx(s,{className:"mr-2"}),"Back to Results"]})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Execution Details"}),e.jsxs("p",{className:"text-gray-600",children:["Execution ID: ",o.id]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(t,{className:"text-gray-500",size:14}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",children:[e.jsx(a,{className:"text-gray-500",size:14}),"Share"]}),e.jsx(m,{status:o.failedCount>0?"Failed":"Passed"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[e.jsx("h2",{className:"font-semibold text-gray-700 mb-4",children:"Execution Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex items-center",children:[e.jsx(i,{className:"mr-1",size:12})," Instance ID"]}),e.jsx("div",{className:"font-medium text-sm",children:o.instanceId})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex items-center",children:[e.jsx(r,{className:"mr-1",size:12})," Executed By"]}),e.jsx("div",{className:"font-medium text-sm",children:o.executedBy})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex items-center",children:[e.jsx(d,{className:"mr-1",size:12})," Environment"]}),e.jsx("div",{className:"font-medium text-sm",children:o.environment})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex items-center",children:[e.jsx(l,{className:"mr-1",size:12})," Executed At"]}),e.jsx("div",{className:"font-medium text-sm",children:o.executedAt})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[e.jsx("h2",{className:"font-semibold text-gray-700 mb-4",children:"Test Results"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:N}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:u}),e.jsx("div",{className:"text-sm text-gray-500",children:"Passed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:b}),e.jsx("div",{className:"text-sm text-gray-500",children:"Failed"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[e.jsx("h2",{className:"font-semibold text-gray-700 mb-4",children:"Success Rate"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsxs("svg",{className:"w-32 h-32",viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:v>=80?"#10B981":v>=50?"#F59E0B":"#EF4444",strokeWidth:"3",strokeDasharray:`${v}, 100`})]}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:e.jsxs("div",{className:"text-3xl font-bold",children:[v,"%"]})})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-green-500 mr-2"}),"Passed: ",u," tests"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-red-500 mr-2"}),"Failed: ",b," tests"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"bg-gray-50 p-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-gray-800",children:"Test Cases"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"text-green-600 font-medium",children:u})," passed /",e.jsx("span",{className:"text-red-600 font-medium ml-1",children:b})," failed"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:o.results.map((s=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer flex items-center justify-between",onClick:()=>j(s.id),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(n,{className:"mr-1 h-3 w-3"})," ",s.duration]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium "+("Passed"===s.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"Passed"===s.status?e.jsxs("span",{className:"flex items-center",children:[e.jsx(c,{className:"mr-1 h-3 w-3"})," Passed"]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{className:"mr-1 h-3 w-3"})," Failed"]})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),j(s.id)},className:"text-indigo-600 hover:text-indigo-700 text-sm hover:underline",children:"View Details"})]})]},s.id)))})]})]})};export{o as default};
