import{j as e,u as s,b as t}from"./chunk-DudRT0UB.js";import{R as a,u as r,r as i}from"./chunk-C74fWxxE.js";import{q as n,r as l,s as c,t as d,v as o,w as m,o as x,x as h,y as g,z as u,A as j,B as p,C as f,D as N,n as b,E as y,G as w,H as v,I as S}from"../assets/index-D4yqEd4q.js";import{B as k}from"./chunk-Cp_gCjgH.js";import{C as E}from"./chunk-CxcOZuMG.js";import{B as L}from"./chunk-CwNVvpeg.js";import"./chunk-SnPUoUoO.js";import"./chunk-4QNEI4IN.js";import"./chunk-Dw5YO7VD.js";const C=({children:s,variant:t="default",size:a="md",status:r=null,className:i="",icon:n,...l})=>{const c={Passed:"bg-green-100 text-green-800 border border-green-200",Failed:"bg-red-100 text-red-800 border border-red-200",Error:"bg-yellow-100 text-yellow-800 border border-yellow-200",Skipped:"bg-gray-100 text-gray-800 border border-gray-200",PASSED:"bg-green-100 text-green-800 border border-green-200",FAILED:"bg-red-100 text-red-800 border border-red-200",ERROR:"bg-yellow-100 text-yellow-800 border border-yellow-200",SKIPPED:"bg-gray-100 text-gray-800 border border-gray-200"},d=`inline-flex items-center font-medium rounded-full ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"}[a]} ${r&&c[r]?c[r]:{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-indigo-100 text-indigo-800"}[t]} ${i}`;return e.jsxs("span",{className:d,...l,children:[n&&e.jsx(n,{className:"w-3 h-3 mr-1"}),s]})},T=({title:s,value:t,icon:a,variant:r="purple",className:i="",onClick:n,...l})=>{const c="function"==typeof n,d=`\n    p-6 rounded-xl border-0 shadow-card transition-all duration-200 hover:scale-105 hover:shadow-elegant\n    ${{purple:"bg-gradient-primary text-white",success:"bg-gradient-success text-white",warning:"bg-gradient-warning text-white",info:"bg-gradient-info text-white",pink:"bg-gradient-pink text-white",cyan:"bg-gradient-cyan text-white",orange:"bg-gradient-orange text-white"}[r]}\n    ${c?"cursor-pointer":""}\n    ${i}\n  `,o=e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium opacity-90 mb-1",children:s}),e.jsx("p",{className:"text-3xl font-bold",children:t})]}),a&&e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(a,{className:"w-6 h-6"})})})]});return c?e.jsx("div",{className:d,onClick:n,...l,children:o}):e.jsx("div",{className:d,...l,children:o})},R=({title:s,subtitle:t,icon:a,variant:r="purple",onClick:i,className:n="",...l})=>{const c=`\n    p-6 rounded-xl border-0 text-white cursor-pointer transition-transform duration-200 \n    shadow-elegant hover:scale-105 \n    ${{purple:"bg-gradient-primary",success:"bg-gradient-success",warning:"bg-gradient-warning",info:"bg-gradient-info",pink:"bg-gradient-pink",cyan:"bg-gradient-cyan",orange:"bg-gradient-orange"}[r]} \n    ${n}\n  `;return e.jsx("div",{className:c,onClick:i,...l,children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:a&&e.jsx(a,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:s}),e.jsx("p",{className:"text-sm opacity-90",children:t})]})]})})},A=({data:s,title:t,color:a="#4f46e5",height:r=80,showGrid:i=!0,showPoints:n=!0,className:l=""})=>{if(!s||0===s.length)return null;const c=s.map((e=>e.value)),d=Math.max(...c),o=Math.min(...c),m=d-o||1,x=s.map(((e,t)=>({x:t/(s.length-1)*100,y:100-(e.value-o)/m*80,value:e.value,date:e.date}))),h=x.map(((e,s)=>`${0===s?"M":"L"} ${e.x} ${e.y}`)).join(" ");return e.jsxs("div",{className:`p-4 border rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow ${l}`,children:[t&&e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:t}),e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"100%",height:r,viewBox:"0 0 100 100",className:"overflow-visible",children:[i&&e.jsxs("g",{stroke:"#f3f4f6",strokeWidth:"0.2",children:[[0,25,50,75,100].map((s=>e.jsx("line",{x1:"0",y1:s,x2:"100",y2:s},s))),[0,25,50,75,100].map((s=>e.jsx("line",{x1:s,y1:"0",x2:s,y2:"100"},s)))]}),e.jsx("path",{d:`${h} L 100 100 L 0 100 Z`,fill:a,fillOpacity:"0.1"}),e.jsx("path",{d:h,fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-sm"}),n&&x.map(((s,t)=>e.jsx("circle",{cx:s.x,cy:s.y,r:"2",fill:"white",stroke:a,strokeWidth:"2",className:"hover:r-3 transition-all duration-200",children:e.jsx("title",{children:`${s.date}: ${s.value}`})},t)))]})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-3",children:[e.jsx("span",{children:s[0]?.date}),e.jsx("span",{children:s[Math.floor(s.length/2)]?.date}),e.jsx("span",{children:s[s.length-1]?.date})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsxs("span",{children:["Min: ",o]}),e.jsxs("span",{children:["Max: ",d]})]})]})};class P extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState({error:e,hasError:!0}),window.Sentry&&window.Sentry.captureException(e)}handleRetry=()=>{this.setState((e=>({hasError:!1,error:null,retryCount:e.retryCount+1})))};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(E,{className:"p-8 border-red-200 bg-red-50 m-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(n,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-600 mb-6",children:this.props.message||"Dashboard section failed to load. Please try again."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(k,{variant:"outline",onClick:this.handleRetry,className:"text-red-600 border-red-300 hover:bg-red-100",children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsxs(k,{variant:"primary",onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]}),this.state.retryCount>0&&e.jsxs("p",{className:"text-sm text-red-500 mt-4",children:["Retry attempts: ",this.state.retryCount]})]})}):this.props.children}}const F=({width:s="w-full",height:t="h-4",className:a=""})=>e.jsx("div",{className:`${s} ${t} bg-gray-200 rounded animate-pulse ${a}`}),$=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsxs("div",{children:[e.jsx(F,{width:"w-20",height:"h-4",className:"mb-2"}),e.jsx(F,{width:"w-16",height:"h-3"})]})]}),e.jsx(F,{width:"w-8",height:"h-8",className:"rounded-full"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(F,{width:"w-16",height:"h-8"}),e.jsx(F,{width:"w-12",height:"h-4"})]})]}),D=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(F,{width:"w-32",height:"h-6"}),e.jsx(F,{width:"w-20",height:"h-4"})]}),e.jsx("div",{className:"relative h-48 bg-gray-100 rounded-lg",children:e.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-32",children:[...Array(6)].map(((s,t)=>e.jsx("div",{className:"absolute bottom-0 bg-gray-300 rounded-t animate-pulse",style:{left:16*t+"%",width:"8%",height:30+10*t+"%",animationDelay:.1*t+"s"}},t)))})})]}),I=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map(((s,t)=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(F,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsx(F,{width:"w-32",height:"h-6"})]}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{width:"w-6",height:"h-6",className:"rounded-full"}),e.jsx(F,{width:"w-24",height:"h-4"})]}),e.jsx(F,{width:"w-12",height:"h-4"})]},t)))})]},t)))}),O=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsx(F,{width:"w-32",height:"h-6"})]}),e.jsx(F,{width:"w-20",height:"h-4"})]}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map(((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{width:"w-16",height:"h-6",className:"rounded-full"}),e.jsxs("div",{children:[e.jsx(F,{width:"w-32",height:"h-4",className:"mb-2"}),e.jsx(F,{width:"w-24",height:"h-3"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(F,{width:"w-20",height:"h-4",className:"mb-2"}),e.jsx(F,{width:"w-16",height:"h-3"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[...Array(4)].map(((s,t)=>e.jsxs("div",{children:[e.jsx(F,{width:"w-16",height:"h-3",className:"mb-1"}),e.jsx(F,{width:"w-20",height:"h-4"})]},t)))}),e.jsx("div",{className:"flex items-center gap-4 pt-3 border-t border-gray-200",children:[...Array(3)].map(((s,t)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{width:"w-4",height:"h-4",className:"rounded-full"}),e.jsx(F,{width:"w-16",height:"h-3"})]},t)))})]},t)))})]}),q=()=>e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx(F,{width:"w-24",height:"h-4",className:"mb-2"}),e.jsx(F,{width:"w-48",height:"h-8",className:"mb-2"}),e.jsx(F,{width:"w-96",height:"h-5"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(F,{width:"w-40",height:"h-10",className:"rounded-lg"}),e.jsx(F,{width:"w-24",height:"h-10",className:"rounded-lg"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map(((s,t)=>e.jsx($,{},t)))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[...Array(5)].map(((s,t)=>e.jsx($,{},t)))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(D,{}),e.jsx(D,{})]}),e.jsx("div",{className:"mb-8",children:e.jsx(I,{})}),e.jsx("div",{className:"mb-8",children:e.jsx(O,{})}),e.jsxs("div",{className:"mb-8",children:[e.jsx(F,{width:"w-32",height:"h-8",className:"mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map(((s,t)=>e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(F,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsxs("div",{children:[e.jsx(F,{width:"w-24",height:"h-4",className:"mb-2"}),e.jsx(F,{width:"w-20",height:"h-3"})]})]})},t)))})]})]});q.Metrics=$,q.Charts=D,q.RecentExecutions=O,q.PerformanceLeaders=I;const M=()=>{const a=r(),[c,F]=i.useState("7"),[$,D]=i.useState(!1),{dashboardData:I,isLoading:O,isLoadingTrends:M,error:W,refetch:V}=((e="7")=>{const a=s({queries:[{queryKey:["dashboard","metrics"],queryFn:d.getMetrics,staleTime:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0},{queryKey:["dashboard","summary"],queryFn:d.getSummary,staleTime:12e4,retry:3,refetchOnWindowFocus:!1,refetchOnReconnect:!0},{queryKey:["dashboard","recent-executions"],queryFn:()=>d.getRecentExecutions(15),staleTime:3e4,retry:3,refetchOnWindowFocus:!1,refetchOnReconnect:!0},{queryKey:["dashboard","system-health"],queryFn:d.getSystemHealth,staleTime:6e4,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!0}]}),r=t({queryKey:["dashboard","trends",e],queryFn:async()=>{const[s,t,a]=await Promise.all([d.getSuccessRateTrend(parseInt(e)),d.getResponseTimeTrend(parseInt(e)),d.getExecutionVolumeTrend(parseInt(e))]);return{successRate:s.result?.data||[],responseTime:t.result?.data||[],executionVolume:a.result?.data||[]}},staleTime:18e4,retry:2,enabled:!!e,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),i=t({queryKey:["dashboard","performance",e],queryFn:async()=>{const[s,t,a]=await Promise.all([d.getEnvironmentMetrics(parseInt(e)),d.getTopPerformers(parseInt(e),10),d.getTopFailures(parseInt(e),10)]);return{environments:s.result?.data||[],topPerformers:t.result?.data||[],topFailures:a.result?.data||[]}},staleTime:3e5,retry:2,enabled:!!e,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),n=t({queryKey:["dashboard","projects",e],queryFn:()=>d.getProjectMetrics(parseInt(e)),staleTime:6e5,retry:2,enabled:!!e,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),[l,c,o,m]=a;return{dashboardData:{metrics:l.data?.result?.data||{},summary:c.data?.result?.data||{},recentExecutions:o.data?.result?.data||[],systemHealth:m.data?.result?.data||{},trends:r.data||{successRate:[],responseTime:[],executionVolume:[]},environments:i.data?.environments||[],topPerformers:i.data?.topPerformers||[],topFailures:i.data?.topFailures||[],projects:n.data?.result?.data||[]},isLoading:a.some((e=>e.isLoading)),isLoadingTrends:r.isLoading,isLoadingPerformance:i.isLoading,isLoadingProjects:n.isLoading,error:a.find((e=>e.error))?.error||r.error||i.error||n.error,queryStates:{metrics:{isLoading:l.isLoading,error:l.error,isError:l.isError,isSuccess:l.isSuccess},summary:{isLoading:c.isLoading,error:c.error,isError:c.isError,isSuccess:c.isSuccess},executions:{isLoading:o.isLoading,error:o.error,isError:o.isError,isSuccess:o.isSuccess},trends:{isLoading:r.isLoading,error:r.error,isError:r.isError,isSuccess:r.isSuccess},performance:{isLoading:i.isLoading,error:i.error,isError:i.isError,isSuccess:i.isSuccess}},refetch:()=>{a.forEach((e=>e.refetch())),r.refetch(),i.refetch(),n.refetch()},refetchCore:()=>{a.forEach((e=>e.refetch()))},refetchTrends:()=>{r.refetch(),i.refetch()},lastUpdated:new Date(Math.min(...a.map((e=>e.dataUpdatedAt||0)).filter(Boolean),r.dataUpdatedAt||0,i.dataUpdatedAt||0,n.dataUpdatedAt||0)),isCached:a.every((e=>e.isSuccess&&!e.isLoading))&&r.isSuccess&&!r.isLoading&&i.isSuccess&&!i.isLoading,isStale:a.some((e=>e.isStale))||r.isStale||i.isStale}})(c),K=[{value:"1",label:"Last 24 hours"},{value:"7",label:"Last 7 days"},{value:"30",label:"Last 30 days"},{value:"90",label:"Last 90 days"}],B=()=>V();i.useEffect((()=>{const e=e=>{$&&!e.target.closest(".relative")&&D(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[$]);const z=()=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-clip-text",children:"API Testing Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Comprehensive insights into your testing ecosystem"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(k,{variant:"outline",className:"flex items-center gap-2",onClick:()=>D(!$),children:[e.jsx(b,{className:"w-4 h-4"}),K.find((e=>e.value===c))?.label||"Last 7 days",e.jsx(y,{className:"w-4 h-4 transition-transform "+($?"rotate-180":"")})]}),$&&e.jsx("div",{className:"absolute top-full mt-2 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[180px]",children:K.map((s=>e.jsx("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg transition-colors "+(c===s.value?"bg-blue-50 text-blue-600 font-medium":"text-gray-700"),onClick:()=>{F(s.value),D(!1)},children:s.label},s.value)))})]}),e.jsxs(k,{variant:"outline",onClick:B,disabled:O,className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-4 h-4 "+(O?"animate-spin":"")}),"Refresh"]})]})]}),U=({environments:s})=>{const t=e=>{switch(e?.toLowerCase()){case"healthy":return"bg-dashboard-success";case"warning":return"bg-dashboard-warning";case"error":return"bg-red-500";default:return"bg-gray-400"}};return e.jsxs(E,{className:"p-6 shadow-card h-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-info rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Environment Performance"})]}),e.jsx("div",{className:"h-64 flex flex-col",children:e.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto",children:s?.length>0?s.map(((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t("healthy")}`}),e.jsx("span",{className:"font-medium",children:s.environmentName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[s.totalExecutions||0," tests"]}),e.jsx(C,{variant:"outline",className:"text-xs",children:s.successRate>=90?"healthy":s.successRate>=70?"warning":"critical"})]})]},a))):e.jsx("div",{className:"space-y-3",children:["Production","Staging","Development"].map((s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-dashboard-success"}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"0 tests"}),e.jsx(C,{variant:"outline",className:"text-xs",children:"healthy"})]})]},s)))})})})]})},H=({trends:s})=>{const[t,a]=i.useState("successRate"),r=[{key:"successRate",label:"Success Rate",data:s.successRate},{key:"responseTime",label:"Response Time",data:s.responseTime},{key:"executionVolume",label:"Execution Volume",data:s.executionVolume}],n=r.find((e=>e.key===t));return e.jsxs(E,{className:"p-6 shadow-card h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-info rounded-lg flex items-center justify-center",children:e.jsx(w,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Performance Trends"})]}),e.jsx("select",{value:t,onChange:e=>a(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:r.map((s=>e.jsx("option",{value:s.key,children:s.label},s.key)))})]}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:n?.data&&n.data.length>0?e.jsx(A,{data:n.data,title:"",color:"#3b82f6",height:200,showGrid:!0,showPoints:!0}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(w,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"NO CHART DATA AVAILABLE"}),e.jsx("p",{className:"text-sm",children:"Start running tests to see performance trends"})]})})]})},G=({topPerformers:s,topFailures:t})=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{className:"p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-success rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-dashboard-success",children:"Top Performers"})]}),e.jsx("div",{className:"text-center py-8 text-gray-500",children:s?.length>0?e.jsx("div",{className:"space-y-3",children:s.slice(0,3).map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-green-200 text-green-700 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("span",{className:"text-green-700 font-semibold",children:[s.successRate,"%"]})]},t)))}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"No performance data yet"}),e.jsx("p",{className:"text-sm",children:"Run tests to see top performers"})]})})]}),e.jsxs(E,{className:"p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-warning rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-dashboard-warning",children:"Needs Attention"})]}),e.jsx("div",{className:"text-center py-8 text-gray-500",children:t?.length>0?e.jsx("div",{className:"space-y-3",children:t.slice(0,3).map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("span",{className:"text-red-700 font-semibold",children:[s.successRate,"%"]})]},t)))}):e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"All systems performing well"}),e.jsx("p",{className:"text-sm",children:"No issues detected"})]})})]})]}),Q=({executions:s})=>e.jsxs(E,{className:"p-6 shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Executions"})]}),e.jsx(k,{variant:"ghost",size:"sm",className:"text-indigo-600",onClick:()=>a("/test-results"),children:"View All"})]}),e.jsx("div",{children:s?.length>0?e.jsx("div",{className:"space-y-4",children:s.slice(0,5).map(((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{variant:"passed"===s.executionStatus?.toLowerCase()?"success":"failed"===s.executionStatus?.toLowerCase()?"danger":"warning",children:s.executionStatus}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.testPackageName||s.testSuiteName||s.testCaseName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.executionType&&`${s.executionType} • `,s.executionDate]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.successRate,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Number(s.executionTimeMs||0).toFixed(2),"ms"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Environment:"}),e.jsx("p",{className:"font-medium",children:s.environmentName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Executed by:"}),e.jsx("p",{className:"font-medium",children:s.executedBy||"System"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Total Tests:"}),e.jsx("p",{className:"font-medium",children:s.totalTestCases||s.totalTests||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Execution ID:"}),e.jsx("p",{className:"font-medium text-xs",children:s.executionId?String(s.executionId).substring(0,8)+"...":"N/A"})]})]}),(s.passed||s.failed||s.error)&&e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-gray-200",children:[s.passed>0&&e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.passed," passed"]})]}),s.failed>0&&e.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.failed," failed"]})]}),s.error>0&&e.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.error," error"]})]})]})]},s.executionId||t)))}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(x,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No recent executions found"}),e.jsx("p",{className:"text-sm",children:"Start your first test to see execution history"})]})})]});if(O&&!I?.metrics)return e.jsxs("div",{children:[e.jsx(L,{}),e.jsx(q,{})]});if(W&&!I?.metrics)return e.jsxs("div",{className:"p-6",children:[e.jsx(L,{}),e.jsx(P,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(n,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:W?.message||W}),e.jsxs(k,{onClick:B,variant:"primary",children:[e.jsx(l,{className:"h-4 w-4 mr-2"}),"Retry"]})]})})})]});const Z=I?.metrics||{};return e.jsxs("div",{className:"p-6 min-h-screen bg-gray-50",children:[e.jsx(L,{}),e.jsx(z,{}),e.jsxs(P,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(T,{title:"Total Test Cases",value:Z.totalTestCases?.toLocaleString()||"0",icon:o,variant:"purple",onClick:()=>a("/test-design/test-case")}),e.jsx(T,{title:"Success Rate",value:`${Z.successRate||0}%`,icon:m,variant:"success"}),e.jsx(T,{title:"Avg Response Time",value:`${Number(Z.averageResponseTime||0).toFixed(4)}ms`,icon:x,variant:"info"}),e.jsx(T,{title:"Active Projects",value:Z.activeProjects||0,icon:h,variant:"orange",onClick:()=>a("/project-setup")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx(T,{title:"Total Executions",value:Z.totalExecutions?.toLocaleString()||"0",icon:g,variant:"pink",onClick:()=>a("/test-execution")}),e.jsx(T,{title:"Passed Tests",value:Z.passedExecutions?.toLocaleString()||"0",icon:m,variant:"success"}),e.jsx(T,{title:"Failed Tests",value:Z.failedExecutions?.toLocaleString()||"0",icon:u,variant:"warning"}),e.jsx(T,{title:"Error Tests",value:Z.errorExecutions?.toLocaleString()||"0",icon:n,variant:"warning"}),e.jsx(T,{title:"Concurrent",value:Z.concurrentExecutions||0,icon:j,variant:"cyan"})]})]}),e.jsx(P,{children:M?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(q.Charts,{}),e.jsx(q.Charts,{})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(H,{trends:I?.trends||{}}),e.jsx(U,{environments:I?.environments})]})}),e.jsx(P,{children:e.jsx("div",{className:"mb-8",children:e.jsx(G,{topPerformers:I?.topPerformers,topFailures:I?.topFailures})})}),e.jsx(P,{children:e.jsx("div",{className:"mb-8",children:e.jsx(Q,{executions:I?.recentExecutions})})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quick Actions"}),e.jsx("p",{className:"text-gray-600",children:"Start testing with our most common workflows"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(R,{title:"Create API Test",subtitle:"Add new endpoints",icon:p,variant:"purple",onClick:()=>a("/test-design/api-repository/create")}),e.jsx(R,{title:"Run Tests",subtitle:"Execute test suites",icon:g,variant:"success",onClick:()=>a("/test-execution")}),e.jsx(R,{title:"Create Suite",subtitle:"Organize tests",icon:f,variant:"info",onClick:()=>a("/test-design/test-suite/create")}),e.jsx(R,{title:"View Results",subtitle:"Analyze performance",icon:N,variant:"orange",onClick:()=>a("/test-results")})]})]}),W&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[e.jsx(n,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Some data may not be current due to API issues: ",W?.message||W]})]})})]})},W=()=>e.jsx(P,{children:e.jsx(M,{})});export{W as default};
