import{j as e,u as s}from"./chunk-BonG-WPQ.js";import{R as t,u as a,r}from"./chunk-C74fWxxE.js";import{q as i,r as n,s as l,t as d,v as c,w as o,x,y as m,z as h,o as g,A as u,B as j,C as p,D as b,E as f,G as N,H as v,I as y,J as w,K as T,L as C,M as k,N as S}from"../assets/index-BIbMNroQ.js";import{B as R}from"./chunk-CdK_kaRc.js";import{C as E}from"./chunk-BqHp2zKu.js";import{B as P}from"./chunk-Bq23yqQC.js";import"./chunk-SnPUoUoO.js";import"./chunk-4QNEI4IN.js";import"./chunk-Dw5YO7VD.js";const L=({children:s,variant:t="default",size:a="md",status:r=null,className:i="",icon:n,...l})=>{const d={Passed:"bg-green-100 text-green-800 border border-green-200",Failed:"bg-red-100 text-red-800 border border-red-200",Error:"bg-yellow-100 text-yellow-800 border border-yellow-200",Skipped:"bg-gray-100 text-gray-800 border border-gray-200",PASSED:"bg-green-100 text-green-800 border border-green-200",FAILED:"bg-red-100 text-red-800 border border-red-200",ERROR:"bg-yellow-100 text-yellow-800 border border-yellow-200",SKIPPED:"bg-gray-100 text-gray-800 border border-gray-200"},c=`inline-flex items-center font-medium rounded-full ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"}[a]} ${r&&d[r]?d[r]:{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-indigo-100 text-indigo-800"}[t]} ${i}`;return e.jsxs("span",{className:c,...l,children:[n&&e.jsx(n,{className:"w-3 h-3 mr-1"}),s]})},A=({data:s,color:t="#3b82f6",height:a=80,showGrid:r=!0,showPoints:i=!0,gradient:n=!0,className:l=""})=>{if(!s||0===s.length)return null;const d=Math.max(...s.map((e=>e.value))),c=Math.min(...s.map((e=>e.value))),o=d-c||1,x=s.map(((e,t)=>({x:t/(s.length-1)*100,y:100-(e.value-c)/o*80,value:e.value,date:e.date}))),m=x.map(((e,s)=>`${0===s?"M":"L"} ${e.x} ${e.y}`)).join(" "),h=`gradient-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:`relative w-full ${l}`,style:{height:a},children:[e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",className:"overflow-visible",children:[e.jsx("defs",{children:n&&e.jsxs("linearGradient",{id:h,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:t,stopOpacity:.4}}),e.jsx("stop",{offset:"100%",style:{stopColor:t,stopOpacity:.05}})]})}),r&&e.jsx("g",{stroke:"#e5e7eb",strokeWidth:"0.5",opacity:"0.5",children:[25,50,75].map((s=>e.jsx("line",{x1:"0",y1:s,x2:"100",y2:s},s)))}),n&&e.jsx("path",{d:`${m} L 100 100 L 0 100 Z`,fill:`url(#${h})`}),e.jsx("path",{d:m,fill:"none",stroke:t,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"chart-line-animated",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",strokeDasharray:"200",strokeDashoffset:"200",animation:"drawLine 1.5s ease-out forwards"}}),i&&x.map(((s,a)=>e.jsxs("g",{children:[e.jsx("circle",{cx:s.x,cy:s.y,r:"3",fill:"white",stroke:t,strokeWidth:"2",className:"chart-point-stable transition-all duration-200 cursor-pointer",style:{animationDelay:.1*a+"s",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"},children:e.jsx("title",{children:`${s.date}: ${s.value}`})}),e.jsx("circle",{cx:s.x,cy:s.y,r:"8",fill:"none",stroke:t,strokeWidth:"1",opacity:"0",className:"chart-point-hover-ring transition-opacity duration-200",style:{pointerEvents:"none"}})]},a)))]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2 px-1",children:[e.jsx("span",{className:"font-medium",children:s[0]?.date}),s.length>2&&e.jsx("span",{className:"text-gray-400",children:s[Math.floor(s.length/2)]?.date}),e.jsx("span",{className:"font-medium",children:s[s.length-1]?.date})]})]})},$=({data:s,color:t="#8b5cf6",height:a=60,showValues:r=!0,gradient:i=!0,className:n=""})=>{if(!s||0===s.length)return null;const l=Math.max(...s.map((e=>e.value)));return e.jsx("div",{className:`relative w-full ${n}`,style:{height:a},children:e.jsx("div",{className:"flex items-end justify-between gap-1 h-full px-2",children:s.map(((n,d)=>{const c=Math.max(n.value/l*(a-10),2);return e.jsxs("div",{className:"flex flex-col items-center gap-1 flex-1",children:[e.jsx("div",{className:"w-full rounded-t-sm transition-all duration-500 ease-out hover:scale-110 cursor-pointer",style:{height:`${c}px`,background:i?`linear-gradient(to top, ${t}, ${t}cc)`:t,minHeight:"2px",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))",animationDelay:.1*d+"s"},title:`${n.label||n.date}: ${n.value}`}),r&&s.length<=7&&e.jsx("span",{className:"text-xs text-gray-400 text-center",style:{fontSize:"10px"},children:n.label||n.date})]},d)}))})})},D=({title:s,value:t,subtitle:a,trend:r,chartData:i,chartType:n="line",showChart:l=!1,icon:d,priority:c="normal",status:o="success",className:x="",onClick:m})=>{const h={high:{container:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 border-2 border-indigo-200 shadow-elegant",iconBg:"bg-gradient-primary",chartHeight:80},normal:{container:"bg-white border border-gray-200 shadow-card hover-lift",iconBg:"bg-gradient-info",chartHeight:60},low:{container:"bg-gray-50 border border-gray-100 shadow-sm",iconBg:"bg-gray-400",chartHeight:40}}[c],g={success:{gradient:"bg-gradient-success",color:"#10b981"},warning:{gradient:"bg-gradient-warning",color:"#f59e0b"},error:{gradient:"bg-gradient-warning",color:"#ef4444"},info:{gradient:"bg-gradient-info",color:"#3b82f6"}}[o],u="function"==typeof m,j=`p-6 rounded-xl transition-all duration-300 ${h.container} ${u?"cursor-pointer":""} ${x}`,p=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[d&&e.jsx("div",{className:`p-3 rounded-xl ${h.iconBg} hover-glow transition-all duration-300`,children:e.jsx(d,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:s}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold\n                  "+(r>0?"bg-green-100 text-green-700":r<0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:[r>0?"↗":r<0?"↘":"→"," ",Math.abs(r),"%"]})]}),a&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a})]})]})}),l&&i&&i.length>0&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-r from-gray-50 to-gray-100",style:{height:`${h.chartHeight}px`},children:["line"===n&&e.jsx(A,{data:i,color:g.color,height:h.chartHeight,showGrid:"high"===c,showPoints:"high"===c,gradient:!0,className:"w-full h-full"}),"bar"===n&&e.jsx($,{data:i,color:g.color,height:h.chartHeight,showValues:"high"===c,gradient:!0,className:"w-full h-full"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/20 to-transparent pointer-events-none rounded-lg"})]})]});return u?e.jsx("div",{className:j,onClick:m,children:p}):e.jsx("div",{className:j,children:p})},M=({title:s,value:t,icon:a,status:r="info",trend:i=0,className:n="",onClick:l})=>{const d="function"==typeof l,c=`p-5 rounded-xl border-2 ${{success:"border-green-200 bg-gradient-to-br from-green-50 to-green-100/50",warning:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-yellow-100/50",error:"border-red-200 bg-gradient-to-br from-red-50 to-red-100/50",info:"border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100/50"}[r]} hover-lift transition-all duration-300 ${d?"cursor-pointer":""} ${n}`,o=e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-white/70 backdrop-blur-sm ${{success:"text-green-600",warning:"text-yellow-600",error:"text-red-600",info:"text-blue-600"}[r]}`,children:e.jsx(a,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),0!==i&&e.jsxs("div",{className:"text-xs font-semibold px-2 py-1 rounded-full\n          "+(i>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[i>0?"+":"",i,"%"]})]});return d?e.jsx("div",{className:c,onClick:l,children:o}):e.jsx("div",{className:c,children:o})},F=({title:s,subtitle:t,icon:a,variant:r="purple",onClick:i,className:n="",...l})=>{const d=`\n    p-6 rounded-xl border-0 text-white cursor-pointer transition-transform duration-200 \n    shadow-elegant hover:scale-105 \n    ${{purple:"bg-gradient-primary",success:"bg-gradient-success",warning:"bg-gradient-warning",info:"bg-gradient-info",pink:"bg-gradient-pink",cyan:"bg-gradient-cyan",orange:"bg-gradient-orange"}[r]} \n    ${n}\n  `;return e.jsx("div",{className:d,onClick:i,...l,children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:a&&e.jsx(a,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:s}),e.jsx("p",{className:"text-sm opacity-90",children:t})]})]})})},I=({icon:s,title:t="No Data Available",description:a="Start collecting data to see beautiful charts here",actionText:r="Learn More",onAction:n,className:l=""})=>e.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-6 text-center ${l}`,children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mb-4 shadow-sm hover-lift transition-all duration-300",children:s?e.jsx(s,{className:"w-8 h-8 text-gray-400"}):e.jsx(i,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:t}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 max-w-xs leading-relaxed",children:a}),n&&e.jsx("button",{onClick:n,className:"btn btn-secondary btn-sm hover:btn-primary transition-all duration-300",children:r})]}),H=({onAddEnvironment:s,className:t=""})=>e.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-6 text-center ${t}`,children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center mb-4 shadow-sm hover-lift transition-all duration-300",children:e.jsx(n,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Environments Found"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs leading-relaxed",children:"Add test environments to monitor their health and performance in real-time."}),s&&e.jsxs("button",{onClick:s,className:"btn btn-success btn-sm flex items-center gap-2",children:[e.jsx(l,{className:"w-4 h-4"}),"Add Environment"]}),e.jsx("div",{className:"mt-6 text-xs text-gray-400",children:"Pro tip: Start with your development environment"})]}),O=({options:s=[],value:t,onChange:a,placeholder:r="Select option",className:i="",disabled:n=!1})=>(s.find((e=>e.value===t)),e.jsxs("div",{className:`relative ${i}`,children:[e.jsxs("select",{value:t||"",onChange:e=>a(e.target.value),disabled:n,className:`\n          w-full appearance-none px-4 py-2 pr-10 text-left\n          border border-gray-300 rounded-lg bg-white\n          hover:border-indigo-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-20\n          transition-all duration-200 cursor-pointer\n          ${n?"opacity-50 cursor-not-allowed":""}\n          ${t?"text-gray-900":"text-gray-500"}\n        `,children:[r&&!t&&e.jsx("option",{value:"",disabled:!0,children:r}),s.map((s=>e.jsx("option",{value:s.value,className:"text-gray-900 bg-white",children:s.label},s.value)))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(d,{className:"w-4 h-4 text-gray-400"})})]})),V=({selectedDays:s,onDaysChange:t,className:a=""})=>e.jsx("div",{className:a,children:e.jsx(O,{options:[{value:"1",label:"Last 24 hours"},{value:"7",label:"Last 7 days"},{value:"14",label:"Last 14 days"},{value:"30",label:"Last 30 days"},{value:"90",label:"Last 90 days"}],value:s,onChange:t})});class B extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState({error:e,hasError:!0}),window.Sentry&&window.Sentry.captureException(e)}handleRetry=()=>{this.setState((e=>({hasError:!1,error:null,retryCount:e.retryCount+1})))};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(E,{className:"p-8 border-red-200 bg-red-50 m-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(c,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-600 mb-6",children:this.props.message||"Dashboard section failed to load. Please try again."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(R,{variant:"outline",onClick:this.handleRetry,className:"text-red-600 border-red-300 hover:bg-red-100",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsxs(R,{variant:"primary",onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]}),this.state.retryCount>0&&e.jsxs("p",{className:"text-sm text-red-500 mt-4",children:["Retry attempts: ",this.state.retryCount]})]})}):this.props.children}}const W=({width:s="w-full",height:t="h-4",className:a=""})=>e.jsx("div",{className:`${s} ${t} bg-gray-200 rounded animate-pulse ${a}`}),G=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsxs("div",{children:[e.jsx(W,{width:"w-20",height:"h-4",className:"mb-2"}),e.jsx(W,{width:"w-16",height:"h-3"})]})]}),e.jsx(W,{width:"w-8",height:"h-8",className:"rounded-full"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(W,{width:"w-16",height:"h-8"}),e.jsx(W,{width:"w-12",height:"h-4"})]})]}),z=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(W,{width:"w-32",height:"h-6"}),e.jsx(W,{width:"w-20",height:"h-4"})]}),e.jsx("div",{className:"relative h-48 bg-gray-100 rounded-lg",children:e.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-32",children:[...Array(6)].map(((s,t)=>e.jsx("div",{className:"absolute bottom-0 bg-gray-300 rounded-t animate-pulse",style:{left:16*t+"%",width:"8%",height:30+10*t+"%",animationDelay:.1*t+"s"}},t)))})})]}),q=()=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map(((s,t)=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(W,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsx(W,{width:"w-32",height:"h-6"})]}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{width:"w-6",height:"h-6",className:"rounded-full"}),e.jsx(W,{width:"w-24",height:"h-4"})]}),e.jsx(W,{width:"w-12",height:"h-4"})]},t)))})]},t)))}),K=()=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsx(W,{width:"w-32",height:"h-6"})]}),e.jsx(W,{width:"w-20",height:"h-4"})]}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map(((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{width:"w-16",height:"h-6",className:"rounded-full"}),e.jsxs("div",{children:[e.jsx(W,{width:"w-32",height:"h-4",className:"mb-2"}),e.jsx(W,{width:"w-24",height:"h-3"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(W,{width:"w-20",height:"h-4",className:"mb-2"}),e.jsx(W,{width:"w-16",height:"h-3"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[...Array(4)].map(((s,t)=>e.jsxs("div",{children:[e.jsx(W,{width:"w-16",height:"h-3",className:"mb-1"}),e.jsx(W,{width:"w-20",height:"h-4"})]},t)))}),e.jsx("div",{className:"flex items-center gap-4 pt-3 border-t border-gray-200",children:[...Array(3)].map(((s,t)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{width:"w-4",height:"h-4",className:"rounded-full"}),e.jsx(W,{width:"w-16",height:"h-3"})]},t)))})]},t)))})]}),U=()=>e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx(W,{width:"w-24",height:"h-4",className:"mb-2"}),e.jsx(W,{width:"w-48",height:"h-8",className:"mb-2"}),e.jsx(W,{width:"w-96",height:"h-5"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(W,{width:"w-40",height:"h-10",className:"rounded-lg"}),e.jsx(W,{width:"w-24",height:"h-10",className:"rounded-lg"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map(((s,t)=>e.jsx(G,{},t)))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[...Array(5)].map(((s,t)=>e.jsx(G,{},t)))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(z,{}),e.jsx(z,{})]}),e.jsx("div",{className:"mb-8",children:e.jsx(q,{})}),e.jsx("div",{className:"mb-8",children:e.jsx(K,{})}),e.jsxs("div",{className:"mb-8",children:[e.jsx(W,{width:"w-32",height:"h-8",className:"mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map(((s,t)=>e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(W,{width:"w-10",height:"h-10",className:"rounded-lg"}),e.jsxs("div",{children:[e.jsx(W,{width:"w-24",height:"h-4",className:"mb-2"}),e.jsx(W,{width:"w-20",height:"h-3"})]})]})},t)))})]})]});U.Metrics=G,U.Charts=z,U.RecentExecutions=K,U.PerformanceLeaders=q;const J=(e,s)=>{const t=e?.find((e=>e.metricName===s));if(!t)return 0;const a=t.delta.match(/([+-]?\d+\.?\d*)%/);return a?parseFloat(a[1]):0},Q=e=>{const s=e.find((e=>"Overall Success Rate"===e.metricName)),t=e.find((e=>"Avg Response Time"===e.metricName)),a=e.find((e=>"Tests Executed"===e.metricName));return{successRate:s?.currentWindowData||[],responseTime:t?.currentWindowData||[],executionVolume:a?.currentWindowData||[]}},Y=()=>{const t=a(),[n,l]=r.useState("1"),{dashboardData:d,isLoading:x,isLoadingTrends:$,error:O,refetch:W}=((e="1")=>{const t=s({queryKey:["dashboard","unified",e],queryFn:()=>m.getMetrics(e),staleTime:12e4,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0});return{dashboardData:t.data?.result?.data?{metrics:{totalTestCases:t.data.result.data.totalTestCases,successRate:t.data.result.data.successRate,averageResponseTime:t.data.result.data.averageResponseTime,totalProjects:t.data.result.data.totalProjects,totalExecutions:t.data.result.data.totalExecutions,passedExecutions:t.data.result.data.passedExecutions,failedExecutions:t.data.result.data.failedExecutions,errorExecutions:t.data.result.data.errorExecutions,activeProjects:t.data.result.data.totalProjects,throughputPerHour:Math.round(t.data.result.data.totalExecutions/24)},trends:Q(t.data.result.data.trends||[]),environments:[{name:"Production",successRate:95,tests:150},{name:"Staging",successRate:88,tests:120},{name:"Development",successRate:92,tests:85}],recentExecutions:[{executionId:"exec-1",testPackageName:"API Regression Suite",executionStatus:"Passed",successRate:95,executionTimeMs:2500,executionDate:(new Date).toISOString().split("T")[0],environmentName:"Production",totalTests:25,passedTests:24,failedTests:1,executionType:"Scheduled"},{executionId:"exec-2",testSuiteName:"Authentication Tests",executionStatus:"Failed",successRate:72,executionTimeMs:1800,executionDate:(new Date).toISOString().split("T")[0],environmentName:"Staging",totalTests:18,passedTests:13,failedTests:5,executionType:"Manual"}],topPerformers:[{name:"User Management API",successRate:98,executionCount:145},{name:"Payment Gateway Tests",successRate:96,executionCount:120},{name:"Search API Suite",successRate:94,executionCount:98}],topFailures:[{name:"Legacy Integration Tests",successRate:45,executionCount:67},{name:"Third-party API Tests",successRate:62,executionCount:54}],systemHealth:{healthScore:Math.round(t.data.result.data.successRate||0)},metricsGeneratedAt:t.data.result.data.metricsGeneratedAt,trendPercentages:{successRate:J(t.data.result.data.trends||[],"Overall Success Rate"),responseTime:J(t.data.result.data.trends||[],"Avg Response Time"),executionVolume:J(t.data.result.data.trends||[],"Tests Executed"),failedTests:J(t.data.result.data.trends||[],"Failed Tests"),totalTestCases:J(t.data.result.data.trends||[],"Total Test Cases")}}:null,isLoading:t.isLoading,isLoadingTrends:t.isLoading,isLoadingPerformance:t.isLoading,isLoadingProjects:t.isLoading,error:t.error,queryStates:{metrics:{isLoading:t.isLoading,error:t.error,isError:t.isError,isSuccess:t.isSuccess},summary:{isLoading:t.isLoading,error:t.error,isError:t.isError,isSuccess:t.isSuccess},executions:{isLoading:t.isLoading,error:t.error,isError:t.isError,isSuccess:t.isSuccess},trends:{isLoading:t.isLoading,error:t.error,isError:t.isError,isSuccess:t.isSuccess},performance:{isLoading:t.isLoading,error:t.error,isError:t.isError,isSuccess:t.isSuccess}},refetch:()=>t.refetch(),refetchCore:()=>t.refetch(),refetchTrends:()=>t.refetch(),lastUpdated:new Date(t.dataUpdatedAt||0),isCached:t.isSuccess&&!t.isLoading,isStale:t.isStale}})(n),G=()=>W(),z=()=>e.jsxs("div",{className:"relative bg-white border-b border-gray-200 rounded-2xl mb-8 shadow-card",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5"}),e.jsx("div",{className:"relative px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-2 h-8 bg-gradient-primary rounded-full"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl",children:"Monitor your API testing performance and track key metrics in real-time"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{selectedDays:n,onDaysChange:l,className:"w-44"}),e.jsxs(R,{variant:"ghost",onClick:G,children:[e.jsx(o,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs(R,{variant:"primary",onClick:()=>t("/test-execution"),children:[e.jsx(w,{className:"w-4 h-4"}),"Run Tests"]})]})]})})]}),q=({trends:s})=>{const[a,i]=r.useState("successRate"),n=[{key:"successRate",label:"Success Rate",data:s.successRate,icon:T,color:"#10b981"},{key:"responseTime",label:"Response Time",data:s.responseTime,icon:g,color:"#3b82f6"},{key:"executionVolume",label:"Execution Volume",data:s.executionVolume,icon:u,color:"#8b5cf6"}],l=n.find((e=>e.key===a));return e.jsxs(E,{className:"p-6 shadow-elegant h-full hover-lift transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-info rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(T,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Performance Trends"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Last 30 days overview"})]})]}),e.jsx("div",{className:"flex bg-gray-100 rounded-xl p-1",children:n.map((s=>e.jsxs("button",{onClick:()=>i(s.key),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2\n                  "+(a===s.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label]},s.key)))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-80 bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-100 p-4",children:l?.data&&l.data.length>0?e.jsx(A,{data:l.data,color:l.color,height:280,showGrid:!0,showPoints:!0,gradient:!0}):e.jsx(I,{icon:l?.icon,title:"No Performance Data",description:"Run some tests to see performance trends here",actionText:"Start Testing",onAction:()=>t("/test-execution")})}),l?.data&&l.data.length>0&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Average"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"92.4%"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Best"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:"98.7%"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Worst"}),e.jsx("p",{className:"text-lg font-semibold text-red-600",children:"84.2%"})]})]})]})]})},K=({environments:s})=>e.jsxs(E,{className:"p-6 shadow-elegant h-fit hover-lift transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-success rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Environment Status"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Real-time health monitoring"})]})]}),e.jsx("div",{className:"space-y-4",children:s?.length>0?s.map(((s,t)=>e.jsx(Y,{environment:s},t))):e.jsx(H,{onAddEnvironment:()=>t("/admin/environment-setup")})})]}),Y=({environment:s})=>{const t=(a=s.successRate)>=95?"success":a>=80?"warning":"error";var a;return e.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${"success"===t?"bg-green-500":"warning"===t?"bg-yellow-500":"bg-red-500"} animate-pulse`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.tests," tests"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[s.successRate,"%"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${{success:"bg-green-100 text-green-800 border-green-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",error:"bg-red-100 text-red-800 border-red-200"}[t]}`,children:t})]})]})})},Z=({topPerformers:s,topFailures:a})=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(E,{className:"p-6 shadow-elegant hover-lift transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-success rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Top Performers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Highest success rates"})]})]}),e.jsx("div",{className:"space-y-4",children:s?.length>0?s.slice(0,5).map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-success rounded-full flex items-center justify-center text-white text-sm font-bold shadow-sm",children:t+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.executionCount||0," executions"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-green-700",children:[s.successRate,"%"]}),e.jsx("div",{className:"w-16 h-2 bg-green-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-success rounded-full transition-all duration-700",style:{width:`${s.successRate}%`}})})]})]},t))):e.jsx(I,{icon:C,title:"No Performance Data",description:"Run tests to see top performing test suites",actionText:"Start Testing",onAction:()=>t("/test-execution"),size:"small",variant:"success"})})]}),e.jsxs(E,{className:"p-6 shadow-elegant hover-lift transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-warning rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(c,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Needs Attention"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tests requiring review"})]})]}),e.jsx("div",{className:"space-y-4",children:a?.length>0?a.slice(0,5).map(((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-100 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-warning rounded-full flex items-center justify-center shadow-sm",children:e.jsx(c,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.executionCount||0," executions"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-red-700",children:[s.successRate,"%"]}),e.jsx("div",{className:"w-16 h-2 bg-red-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-warning rounded-full transition-all duration-700",style:{width:`${s.successRate}%`}})})]})]},t))):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl flex items-center justify-center mb-4 mx-auto",children:e.jsx(k,{className:"w-8 h-8 text-green-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"All Systems Healthy"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No critical issues detected in your test suites"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:"Monitoring active"})]})]})})]})]}),X=({executions:s})=>e.jsxs(E,{className:"p-6 shadow-elegant hover-lift transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(u,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Executions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Latest test results"})]})]}),e.jsxs(R,{variant:"ghost",size:"sm",className:"text-indigo-600 hover:bg-indigo-50",onClick:()=>t("/test-results"),children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"View All"]})]}),e.jsx("div",{className:"space-y-4",children:s?.length>0?s.slice(0,5).map(((s,t)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:bg-gradient-to-r hover:from-gray-50 hover:to-indigo-50 hover:border-indigo-200 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{variant:"passed"===s.executionStatus?.toLowerCase()?"success":"failed"===s.executionStatus?.toLowerCase()?"danger":"warning",className:"shadow-sm",children:s.executionStatus}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.testPackageName||s.testSuiteName||s.testCaseName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.executionType&&`${s.executionType} • `,s.executionDate]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[s.successRate,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Number(s.executionTimeMs||0).toFixed(0),"ms"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Environment"}),e.jsx("p",{className:"font-semibold text-gray-900",children:s.environmentName||"N/A"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Tests"}),e.jsx("p",{className:"font-semibold text-gray-900",children:s.totalTests||0})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Passed"}),e.jsx("p",{className:"font-semibold text-green-600",children:s.passedTests||0})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 text-xs font-medium",children:"Failed"}),e.jsx("p",{className:"font-semibold text-red-600",children:s.failedTests||0})]})]})]},s.executionId||t))):e.jsx(I,{icon:u,title:"No Recent Executions",description:"Test execution history will appear here",actionText:"Run Your First Test",onAction:()=>t("/test-execution"),variant:"info"})})]});if(x&&!d?.metrics)return e.jsxs("div",{children:[e.jsx(P,{}),e.jsx(U,{})]});if(O&&!d?.metrics)return e.jsxs("div",{className:"p-6",children:[e.jsx(P,{}),e.jsx(B,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(c,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:O?.message||O}),e.jsxs(R,{onClick:G,variant:"primary",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Retry"]})]})})})]});const _=d?.metrics||{};return e.jsxs("div",{className:"dashboard-container min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50",children:[e.jsx("div",{className:"p-6 pb-0",children:e.jsx(P,{})}),e.jsx("div",{className:"px-6",children:e.jsx(z,{})}),e.jsxs("div",{className:"px-6 pb-8",children:[e.jsxs(B,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Key Metrics"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-300 to-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(D,{title:"Overall Success Rate",value:`${_.successRate||0}%`,subtitle:"Last 7 days",trend:d?.trendPercentages?.successRate||0,showChart:!1,icon:h,priority:"high",status:"success",onClick:()=>t("/test-results")})}),e.jsx(D,{title:"Avg Response Time",value:`${_.averageResponseTime||0}ms`,subtitle:"Average response time",trend:d?.trendPercentages?.responseTime||0,showChart:!1,icon:g,priority:"normal",status:"info"}),e.jsx(D,{title:"Tests Executed",value:_.totalExecutions?.toLocaleString()||"0",subtitle:"Total executions",trend:d?.trendPercentages?.executionVolume||0,showChart:!1,icon:u,priority:"normal",status:"info",onClick:()=>t("/test-execution")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(M,{title:"Total Projects",value:_.activeProjects||0,icon:j,status:"info",trend:0,onClick:()=>t("/project-setup")}),e.jsx(M,{title:"Failed Tests",value:_.failedExecutions?.toLocaleString()||"0",icon:p,status:"warning",trend:d?.trendPercentages?.failedTests||0}),e.jsx(M,{title:"Total Test Cases",value:_.totalTestCases?.toLocaleString()||"0",icon:b,status:"success",trend:d?.trendPercentages?.totalTestCases||0,onClick:()=>t("/test-design/test-case")}),e.jsx(M,{title:"Environments",value:(d?.environments?.length||0).toString(),icon:f,status:"success",trend:0,onClick:()=>t("/admin/environment-setup")})]})]}),e.jsx(B,{children:$?e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(U.Charts,{})}),e.jsx("div",{children:e.jsx(U.Charts,{})})]}):e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(q,{trends:d?.trends||{}})}),e.jsx("div",{children:e.jsx(K,{environments:d?.environments})})]})}),e.jsx(B,{children:e.jsx("div",{className:"mb-8",children:e.jsx(Z,{topPerformers:d?.topPerformers,topFailures:d?.topFailures})})}),e.jsx(B,{children:e.jsx("div",{className:"mb-8",children:e.jsx(X,{executions:d?.recentExecutions})})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-300 to-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(F,{title:"Create API Test",subtitle:"Add new endpoints",icon:N,variant:"purple",onClick:()=>t("/test-design/api-repository/create")}),e.jsx(F,{title:"Run Tests",subtitle:"Execute test suites",icon:v,variant:"success",onClick:()=>t("/test-execution")}),e.jsx(F,{title:"Create Suite",subtitle:"Organize tests",icon:y,variant:"info",onClick:()=>t("/test-design/test-suite/create")}),e.jsx(F,{title:"View Results",subtitle:"Analyze performance",icon:i,variant:"orange",onClick:()=>t("/test-results")})]})]})]})]})},Z=()=>e.jsx(B,{children:e.jsx(Y,{})});export{Z as default};
